# Технічна архітектура DTLogix

## Вступ

Цей документ описує high-level технічну архітектуру DTLogix на концептуальному рівні, без низькорівневих деталей реалізації.

## Основні компоненти системи

### Core API

**Призначення:** Основний бекенд API для обробки бізнес-логіки.

**Основні функції:**
- Управління рейсами (CRUD операції)
- Обробка заявок
- Розрахунок ETA
- Управління користувачами та правами доступу
- Зберігання та управління документами

**Зв'язок з модулями:** Core API обслуговує всі модулі, описаний у [/product/modules.md](/product/modules.md).

---

### Модуль сповіщень (Notifications)

**Призначення:** Обробка та відправка автоматичних сповіщень.

**Основні функції:**
- Відправка сповіщень при зміні статусу рейсу
- Відправка сповіщень при зміні ETA
- Інтеграція з SMS, email та месенджерами
- Черга сповіщень для надійності доставки

**Зв'язок з модулями:** Працює з модулями "Рейси" та "ETA" для автоматичної відправки сповіщень.

**Інтеграції:** SMS-провайдери, email-сервіси (детальніше: [/product/integrations.md](/product/integrations.md)).

---

### AI-модуль

**Призначення:** Аналіз даних та генерація рекомендацій.

**Основні функції:**
- Аналіз відхилень від плану
- Прогнозування ETA на основі історичних даних
- Виявлення аномалій у рейсах
- Генерація рекомендацій щодо оптимізації

**Зв'язок з модулями:** Аналізує дані з модулів "Рейси" та "ETA", надає інсайти для модуля "Аналітика".

**Джерела даних:**
- Історичні дані про рейси
- База відхилень та маршрутів української логістики
- Реальний час оновлення статусів

---

### Модуль інтеграцій

**Призначення:** Інтеграція з зовнішніми сервісами.

**Основні функції:**
- SMS інтеграції
- Email інтеграції
- GPS інтеграції (планується для V2)
- API / webhooks (планується для V2)

**Детальніше:** [/product/integrations.md](/product/integrations.md).

---

### Клієнтський лінк (Public API)

**Призначення:** Публічний доступ для клієнтів експедиторів без реєстрації.

**Основні функції:**
- Генерація унікальних посилань для клієнтів
- Перегляд статусу рейсів
- Перегляд ETA та документів
- Отримання сповіщень

**Зв'язок з модулями:** Використовує дані з модулів "Рейси", "ETA", "Документи" та "Сповіщення" для відображення інформації клієнту.

---

### Аналітика / Дашборд

**Призначення:** Збір та відображення аналітичних даних для керівників.

**Основні функції:**
- Збір метрик з усіх модулів
- Генерація звітів та статистики
- Відображення дашбордів для керівників
- Інтеграція з AI-модулем для рекомендацій

**Зв'язок з модулями:** Збирає дані з усіх модулів системи.

**Планується:** Етап V2 (див. [/strategy/roadmap.md](/strategy/roadmap.md#v2-масштабоване-рішення)).

---

## Взаємодія компонентів

### Базовий флоу створення та відстеження рейсу

1. **Core API** обробляє створення рейсу
2. **ETA модуль** автоматично розраховує ETA на основі маршруту
3. **Сповіщення модуль** відправляє сповіщення клієнту (через інтеграції)
4. При зміні статусу: **Core API** → **ETA модуль** → **Сповіщення модуль**
5. **AI-модуль** аналізує дані та генерує рекомендації
6. **Аналітика** збирає метрики для дашбордів

### Флоу клієнтського лінку

1. Клієнт відкриває публічне посилання
2. **Клієнтський лінк** звертається до **Core API** для отримання даних про рейс
3. Відображаються дані з модулів "ETA" та "Документи"
4. Сповіщення доставляються через **Сповіщення модуль**

---

## Технічні вимоги

### Масштабованість

- Обробка ≥ 1000 рейсів одночасно (MVP)
- Обробка ≥ 5000 рейсів одночасно (V2)
- Uptime ≥ 99%

### Безпека

- Захист даних користувачів
- Безпечне зберігання документів
- Автентифікація та авторизація користувачів

### Продуктивність

- Час відгуку інтерфейсу < 2 секунди
- Надійна доставка сповіщень (≥ 95%)

---

## Зв'язок з модулями

Детальний опис модулів та їх функціональності: [/product/modules.md](/product/modules.md).

---

## Плани розвитку

### V1

- Базовий Core API
- Модуль сповіщень з SMS та email
- Базовий AI-модуль

### V2

- API / webhooks
- GPS інтеграції
- Мобільний застосунок для водіїв
- Розширений модуль аналітики

Детальніше: [/strategy/roadmap.md](/strategy/roadmap.md).

---

## Пов'язані документи

- Модулі продукту: [/product/modules.md](/product/modules.md)
- Інтеграції: [/product/integrations.md](/product/integrations.md)
- Дорожня карта: [/strategy/roadmap.md](/strategy/roadmap.md)